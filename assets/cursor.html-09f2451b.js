import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as D,o as t,c,a as n,b as s,d as l,w as o,e}from"./app-c481a5ec.js";const r={},i=n("h1",{id:"光标操作",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#光标操作","aria-hidden":"true"},"#"),s(" 光标操作")],-1),y=n("h2",{id:"如何获取光标选中的内容",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#如何获取光标选中的内容","aria-hidden":"true"},"#"),s(" 如何获取光标选中的内容")],-1),d=n("a",{href:""},"getValueInRange()",-1),C=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">codeconst</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">monaco</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">create</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getElementById</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;container&quot;</span><span style="color:#D4D4D4;">), {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">value:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">language:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;javascript&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">model</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getModel</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">selection</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getSelection</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">selectedText</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">model</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getValueInRange</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">selection</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">selectedText</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">// 在划选过程中打印选中的值</span></span>
<span class="line"><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">onDidChangeCursorSelection</span><span style="color:#D4D4D4;">((</span><span style="color:#9CDCFE;">e</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">let</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">select</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getSelection</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">mode</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getValueInRange</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">select</span><span style="color:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="如何获取光标悬浮的的内容" tabindex="-1"><a class="header-anchor" href="#如何获取光标悬浮的的内容" aria-hidden="true">#</a> 如何获取光标悬浮的的内容</h2>`,2),v=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">editor</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">monaco</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">create</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getElementById</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;container&quot;</span><span style="color:#D4D4D4;">), {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">value:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Hello, world!&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">language:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;javascript&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">hover:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">enabled:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">delay:</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">500</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  },</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),u=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">onDidChangeCursorPosition</span><span style="color:#D4D4D4;">((</span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">position</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">word</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getModel</span><span style="color:#D4D4D4;">().</span><span style="color:#DCDCAA;">getWordAtPosition</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">word</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">word</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),E=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">onDidChangeCursorPosition</span><span style="color:#D4D4D4;">((</span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">position</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">word</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getModel</span><span style="color:#D4D4D4;">().</span><span style="color:#DCDCAA;">getWordAtPosition</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">word</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">word</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="如何设置hover的效果" tabindex="-1"><a class="header-anchor" href="#如何设置hover的效果" aria-hidden="true">#</a> 如何设置hover的效果</h2>`,2),m=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">monaco</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">languages</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">registerHoverProvider</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;javascript&#39;</span><span style="color:#D4D4D4;">, {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">provideHover</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">model</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">range:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">monaco</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Range</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">lineNumber</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">column</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">lineNumber</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">position</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">column</span><span style="color:#D4D4D4;">),</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">contents:</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#D4D4D4;">                { </span><span style="color:#9CDCFE;">value:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;**EXAMPLE HOVER CONTENT**&#39;</span><span style="color:#D4D4D4;"> },</span></span>
<span class="line"><span style="color:#D4D4D4;">                { </span><span style="color:#9CDCFE;">value:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;这是有关悬停的一些其他信息。&#39;</span><span style="color:#D4D4D4;"> }</span></span>
<span class="line"><span style="color:#D4D4D4;">            ]</span></span>
<span class="line"><span style="color:#D4D4D4;">        };</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">var</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">monaco</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">editor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">create</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getElementById</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;container&#39;</span><span style="color:#D4D4D4;">), {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">value:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;function hello() {</span><span style="color:#D7BA7D;">\\n\\t</span><span style="color:#CE9178;">alert(&quot;Hello world!&quot;);</span><span style="color:#D7BA7D;">\\n</span><span style="color:#CE9178;">}&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">language:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;javascript&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">fixedOverflowWidgets:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">true</span></span>
<span class="line"><span style="color:#D4D4D4;">});</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),F={class:"hint-container danger"},b=n("p",{class:"hint-container-title"},"关于位置不对",-1);function g(h,A){const a=D("RouterLink");return t(),c("div",null,[i,y,n("p",null,[s("要获取 Monaco Editor 中光标选择的内容，可以使用 "),l(a,{to:"/example/install.html#getmodel"},{default:o(()=>[s("getModel()")]),_:1}),s("方法获取编辑器的模型，然后使用 getSelection()方法获取当前选择的区域，最后使用 "),d,s("方法获取选择区域的文本。以下是一个示例：")]),C,n("p",null,[s("首先，您需要在 Monaco Editor 中启用悬停事件。可以通过在编辑器选项中设置"),l(a,{to:"/editor/interfaces/IEditorConstructionOptions.html#hover"},{default:o(()=>[s("hover")]),_:1}),s("选项来实现。例如：")]),v,n("p",null,[s("然后，您需要在悬停事件处理程序中获取光标所在的位置。可以使用 "),l(a,{to:"/editor/interfaces/IStandaloneCodeEditor.html#getmodel"},{default:o(()=>[s("getPosition()")]),_:1}),s("方法来获取光标的位置。例如：")]),u,n("p",null,[s("在上面的代码中，我们使用 "),l(a,{to:"/editor/interfaces/ITextModel.html#getwordatposition"},{default:o(()=>[s("editor.getModel().getWordAtPosition(position)")]),_:1}),s(" 方法来获取光标所在的单词。这个方法返回一个对象，其中包含单词的起始位置和长度。 最后使用 word.word 属性来获取单词的文本。例如：")]),E,n("p",null,[s("要在Monaco Editor中设置鼠标悬停内容，可以使用 "),l(a,{to:"/language/language.html#registerhoverprovider"},{default:o(()=>[s("monaco.languages.registerHoverProvider")]),_:1}),s(" API。")]),m,n("div",F,[b,n("p",null,[s("如果出现hover的显示位置不符合预期，可以设置"),l(a,{to:"/editor/interfaces/IEditorConstructionOptions.html#fixedoverflowwidgets"},{default:o(()=>[s("fixedOverflowWidgets")]),_:1}),s("试一下")])])])}const x=p(r,[["render",g],["__file","cursor.html.vue"]]);export{x as default};
